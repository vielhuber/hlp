<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8" />    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
    <title>.</title>
    <style type="text/css">
        #foo
        {
            width:500px;
            height:500px;
            background-color:blue;
            margin-bottom:500px;
            position:relative;
        }
        #bar
        {
            width:500px;
            height:500px;
            background-color:red;
        }
        #baz
        {
            width:500px;
            height:500px;
            background-color:yellow;
        }
        textarea
        {
            width:100%;
        }
        .animate div
        {
            position:relative;
            width:50px;
            height:50px;
            background-color:red;
            margin-bottom:20px;
        }
    </style>
</head>
<body>

    <div id="foo"></div>

    <div id="bar"></div>

    <textarea class="special"></textarea>

    <div id="baz"></div>

    <div class="parent"><div><div><div><div><div class="child"></div></div></div></div></div></div>

    <div class="animate">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>

    <script type="text/javascript" src="hlp.js"></script>
    <script type="text/javascript">
        console.log(hlp.closest( document.querySelector('.child'), '.parent' ));

        console.log(hlp.capitalize('foo'));

        hlp.waitUntil('#foo','background-color').then(() =>
        {
            alert('background color loaded');
        });
        hlp.waitUntil('#foo','position','relative').then(() =>
        {
            alert('position relative loaded');
        });

        hlp.onResizeHorizontal(() => { console.log('triggered onResizeHorizontal'); });
        hlp.onResizeVertical(() => { console.log('triggered onResizeVertical'); });

        hlp.scrollTo( document.getElementById('bar'), 100 ).then(() =>
        {
            hlp.fadeOut( document.getElementById('bar'), 100 ).then(() =>
            {
                console.log(hlp.isVisible(document.getElementById('bar'))); 
                hlp.fadeIn( document.getElementById('bar'), 100 ).then(() =>
                {
                    console.log(hlp.isVisible(document.getElementById('bar')));
                    hlp.scrollTo(0, 100).then(() =>
                    {
                        hlp.animate(
                            document.getElementById('foo'),
                            'transform: translateX(0)',
                            'transform: translateX(-100%)',
                            'ease-in-out',
                            1000
                        ).then(() => {
                            hlp.on('click', '.dynamic', '#bar', (e) => { alert('clicked'); e.preventDefault(); });
                            document.querySelector('#bar').innerHTML = '<a href="#" class="dynamic">dynamic</a>';
                            
                            hlp.animate(
                                document.querySelectorAll('.animate div'),
                                'transform: translateX(0); pointer-events: auto; opacity: 1',
                                'transform: translateX(1000px); pointer-events: none; opacity: 0.1',
                                'ease-in-out',
                                3000
                            ).then(() => {
                                hlp.animate(
                                    document.querySelectorAll('.animate div'),
                                    'transform: translateX(500px); pointer-events: none; opacity: 0.1',
                                    'transform: translateX(1000px); pointer-events: auto; opacity: 1',
                                    'ease-in-out',
                                    3000
                                ).then(() => {
                                    hlp.animate(
                                        document.querySelectorAll('.animate div'),
                                        'opacity: 1',
                                        'opacity: 0.1',
                                        'ease-in-out',
                                        3000
                                    ).then(() => {
                                        //alert('done');
                                    });
                                });
                            });
                        });
                    });
                });
            });
        });

        hlp.loadJs('https://apis.google.com/js/api.js').then(() => { console.log('done'); });
        
        hlp.loadJs([
            'https://apis.google.com/js/api.js',
            'https://apis.google.com/js/api.js'
        ]).then(() => { console.log('done2'); });

        hlp.loadJsSequentially([
            'https://apis.google.com/js/api.js',
            'https://apis.google.com/js/api.js'
        ]).then(() => { console.log('done3'); });
        
        hlp.textareaAutoHeight('.special');

        hlp.real100vh('#baz');
    </script>
</body>
</html>